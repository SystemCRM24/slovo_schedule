# Приложение для составления расписания занятий

Большая часть логики описана в приложении в Mira - 
https://miro.com/welcomeonboard/RW9xVHBNVDJvd09WRUYvS2E4SEg2NlIwNTRTelFyTjg2aGEyMGQrMVlQRUdpZGRuS2VPemlUWVJxMno0bmNuanZuT1cvQ0hlMjR2dUl3bXFKT2llN1BLTXRlNWl0amQ2dVhBRmVSSFdyUUYxbXRMMzFVazFvTlRjVFhPZ0ZIVWxyVmtkMG5hNDA3dVlncnBvRVB2ZXBnPT0hdjE=?share_link_id=583012695472

Укажу основные моменты:
- Это приложение для работы с расписанием: составление графиков планировение занятий. 
- Работа разделена на фронтенд и бэкенд функционал.
- Бэкенд работает с массовым планированием занятий.
- Фронтэнд - работа с графиками и точечно (в некоторых случаях массово) с занятиями.


# Запуск

В продакшене приложение развертывается в докере посредством инструкций в compose.yaml. 
Дебажить можно как фронт так и бэк локально. Для локального запуска фронта нужно, чтобы 
на сревере крутился бэкенд. Можете сами поправить конфиги, меня это не напрягало))

В продакшене приложуха крутится на нашем сервере.


# Фронтэнд

- Написан на реакте. Имеет посредственную оптимизацию. Первое, что можно делать при претензиях 
на скорость работы - переписывать фронт)
Представляет из себя синг-пэйдж приложение, где выводится таблица с представлением графика и 
рассписаний занятий специалистов. 
Специалисту можно задать график, как для одного дня так и массово. Массовое планирование графиков
масштабирует шаблон на следющие дни недели, которые соотвтетствуют дню недели в шаблоне на 1 год вперед.
Т.е. при указании графика с 9 до 18 в понедельник, то все последующие понедельники будут заполнены
таким рассписанием. 
!!! АТЕНШОН !!! - массовое планирование графиков сделано без защиты от дурака. Есть вполне реальная 
возможность запланировать несколько графиков в 1 день.
В график можно поместить занятие. Занятие можно редактировать и переносить (по сути, одно и тоже).
Отмечу моменты:
- Есть история занятия. При изменении занятия, записывается его прошлое состояние. К нему можно 
вернуться по нажатию на соответствующую кнопку. 
- Отмена занятия (абонемента) работает в обход кнопки сохранить и не попадает в историю занятия.
- Основная логика сконцентрирована в модальных окнах, коих очень много. В принципе, по названию 
компонента можно сообразить, какая модалка что делает. Поясню только по `EditClientInfoModal`. 
Эта модалка вызывается при клике на кнопку "Перенести" (занятие).


# Бэкенд

Написан на python / FastApi. По сути, прослойка между фронтом и битриксом для пересылки данных. 
Был введен с целью реализации возможности локальной разработки + реализация механизма автоматического
планирования занятий и расставления множества повторяющихся (бесконечных) занятий.

- Также не без претензий по оптимизации. Можно покрутить методы, кэширование и тп.
- написаны тэсты на pytest и сделаны моки запросов для работы с функционалом массового взаимодействия\
с занятиями.
- В качестве базы данных используется битрикс и его смарт-процессы. Многие нюансы приложения связаны
с работой апи битрикса.
- Бэкенд ошибки пишет в error.log
- Методы не вижу смысла подробно расписывать. Понять что это и что они делают можно по коду, благо
python - читаемый язык и я оставлял комментарии к методам.
